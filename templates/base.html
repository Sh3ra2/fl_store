{% load compress %}
{% load static %}

<!doctype html>
<html lang="en" data-theme="theme1">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    
    
    <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/css/selectize.default.min.css"
    integrity="sha512-pTaEn+6gF1IeWv3W1+7X7eM60TFu/agjgoHmYhAfLEU8Phuf6JKiiE8YmsNC0aCgQv4192s4Vai8YZ6VNM6vyQ=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"/>
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.15.2/js/selectize.min.js"
    integrity="sha512-IOebNkvA/HZjMM7MxL0NYeLYEalloZ8ckak+NDtOViP7oiYzG5vn6WVXyrJDiJPhl4yRdmNAG49iuLmhkUdVsQ=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"></script>
    
    {% comment %} getting tailwind  {% endcomment %}
    {% comment %} <script src="https://cdn.tailwindcss.com"></script> {% endcomment %}
    {% comment %} getting downloaded tailwind {% endcomment %}


    {% comment %} List JS for table {% endcomment %}
    <script src="//cdnjs.cloudflare.com/ajax/libs/list.js/2.3.1/list.min.js"></script>
    
    <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.1/dist/flowbite.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="{% static 'css/sidebar_style.css' %}">
    <link rel="stylesheet" href="{% static 'css/pos_styles.css' %}">
    {% compress css %}
    <link rel="stylesheet" href="{% static 'src/output.css' %}">
    {% endcompress %}
  </head>
  <body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        
        <!-- Main app here -->
        <div class="d-flex flex-row" id="main-container">
            {% comment %} SideBar HERE {% endcomment %}
            <div id="offcanvasExample"  class="sidebar-hid bg-light_blue-background_main border-r-2 border-black">
                
                <div class="container d-flex " id="logomain">
                    <h2 class="flex-grow-1 font-semibold text-3xl"><span>FL</span>st<span class="material-symbols-outlined">point_of_sale</span>re</h2>
                    <span class="material-symbols-outlined p-2" type="button" data-bs-dismiss="offcanvas" id="sideclose" data-bs-target="#offcanvasExample">close</span>
                </div>

                <div id="sidebarlinks">
                    <a class="row" href="/pos/dashboard"><p>
                        <span class="material-symbols-outlined">dashboard</span>
                        Dashboard
                    </p></a>
                    <a class="row" href="/pos/product"><p>
                        <span class="material-symbols-outlined">inventory_2</span>
                        Products
                    </p></a>
                    <a class="row" href="/pos/customer"><p>
                        <span class="material-symbols-outlined">person</span>
                        Customers
                    </p></a>
                    <a class="row" href="/pos/stats"><p>
                        <span class="material-symbols-outlined">monitoring</span>
                        Stats
                    </p></a>
                    <a class="row" href="/pos/settings"><p>
                        <span class="material-symbols-outlined">settings</span>
                        Settings
                    </p></a>
                    <div class='row'>
                        <button id="light_blue-theme" class="bg-blue-300 text-light-text py-2 px-4 rounded mr-2" onclick="setTheme('theme1')">Light Theme</button>
                        <button id="green-theme" class="bg-green-300 text-dark-text py-2 px-4 rounded mr-2" onclick="setTheme('theme2')">Dark Theme</button>
                        <button id="dark_blue-theme" class="bg-blue-600 text-blue-100 py-2 px-4 rounded" onclick="setTheme('theme3')">dark_blue Theme</button>
                      </div>
                </div>
            </div>

            
            
            <script>
                


                {% comment %} const lightThemeBtn = document.getElementById('light_blue-theme');
                const darkThemeBtn = document.getElementById('green-theme');
                const solarizedThemeBtn = document.getElementById('dark_blue-theme');
                const htmlElement = document.documentElement;
                const sidebarElement = document.getElementById('offcanvasExample');
            
                // Load the saved theme preference on page load
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme) {
                    htmlElement.classList.add(savedTheme);
                    updateBodyClass(savedTheme);
                    updateSidebarClass(savedTheme);
                }
            
                lightThemeBtn.addEventListener('click', () => {
                    switchTheme('light_blue');
                });
            
                darkThemeBtn.addEventListener('click', () => {
                    switchTheme('green');
                });
            
                solarizedThemeBtn.addEventListener('click', () => {
                    switchTheme('dark_blue');
                });
            
                function switchTheme(theme) {
                    // Remove all theme classes
                    htmlElement.classList.remove('light_blue', 'green', 'dark_blue');
                    document.body.classList.remove("bg-dark_blue-text_main", "bg-dark_blue-text_medium_main", "bg-dark_blue-text_medium", "bg-dark_blue-text_unprimary", "bg-dark_blue-primary", "bg-dark_blue-background_unprimary", "bg-dark_blue-background_medium", "bg-dark_blue-background_medium_main", "bg-dark_blue-background_main"
, "bg-light_blue-text_main", "bg-light_blue-text_medium_main", "bg-light_blue-text_medium", "bg-light_blue-text_unprimary", "bg-light_blue-primary", "bg-light_blue-background_unprimary", "bg-light_blue-background_medium", "bg-light_blue-background_medium_main", "bg-light_blue-background_main", "bg-light_green-text_main", "bg-light_green-text_medium_main", "bg-light_green-text_medium", "bg-light_green-text_unprimary", "bg-light_green-primary", "bg-light_green-background_unprimary", "bg-light_green-background_medium", "bg-light_green-background_medium_main", "bg-light_green-background_main"
);
                    document.body.classList.remove('text-light-text', 'text-dark-text', 'text-dark_blue-text');
                    sidebarElement.classList.remove("bg-dark_blue-text_main", "bg-dark_blue-text_medium_main", "bg-dark_blue-text_medium", "bg-dark_blue-text_unprimary", "bg-dark_blue-primary", "bg-dark_blue-background_unprimary", "bg-dark_blue-background_medium", "bg-dark_blue-background_medium_main", "bg-dark_blue-background_main"
, "bg-light_blue-text_main", "bg-light_blue-text_medium_main", "bg-light_blue-text_medium", "bg-light_blue-text_unprimary", "bg-light_blue-primary", "bg-light_blue-background_unprimary", "bg-light_blue-background_medium", "bg-light_blue-background_medium_main", "bg-light_blue-background_main"
, "bg-light_green-text_main", "bg-light_green-text_medium_main", "bg-light_green-text_medium", "bg-light_green-text_unprimary", "bg-light_green-primary", "bg-light_green-background_unprimary", "bg-light_green-background_medium", "bg-light_green-background_medium_main", "bg-light_green-background_main"
);
                    sidebarElement.classList.remove('text-light-text', 'text-dark-text', 'text-dark_blue-text');
            
                    // Add the selected theme
                    htmlElement.classList.add(theme);
                    updateBodyClass(theme);
                    updateSidebarClass(theme);
            
                    // Save the user's preference
                    localStorage.setItem('theme', theme);
                }
            
                function updateBodyClass(theme) {
                    document.body.classList.add(`bg-${theme}-text_main`, `bg-${theme}-text_medium_main`, `bg-${theme}-text_medium`, `bg-${theme}-text_unprimary`, `bg-${theme}-primary`, `bg-${theme}-background_unprimary`, `bg-${theme}-background_medium`, `bg-${theme}-background_medium_main`, `bg-${theme}-background_main`
, `text-${theme}-text`);
                }
            
                function updateSidebarClass(theme) {
                    sidebarElement.classList.add(`bg-${theme}-text_main`, `bg-${theme}-text_medium_main`, `bg-${theme}-text_medium`, `bg-${theme}-text_unprimary`, `bg-${theme}-primary`, `bg-${theme}-background_unprimary`, `bg-${theme}-background_medium`, `bg-${theme}-background_medium_main`, `bg-${theme}-background_main`, `text-${theme}-text`);
                } {% endcomment %}
            </script>
            


            {% comment %}  page data {% endcomment %}
            <div class="content_container_full" id="content_container">
                <div class="container-fluid border-b-2 border-black">
                    <div id="pageheading">
                        <h2 class='text-3xl font-semibold' id="sidebar_button">
                            {% block pageheading %}
                                Dashboard
                            {% endblock %}
                        </h2>
                    </div>
                </div>

                <div class="container mx-auto md:container md:mx-auto">
                    {% block pagedata %}
                    
                    {% endblock %}
                </div>
            </div>
        </div>
  
    <script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.1/dist/flowbite.min.js"></script>
    </body>
</html>

<script>
    $(document).ready(function(){

            changesidebar();
            $(window).resize(changesidebar);

        $("#sidebar_button").click(function(){
            $(".content_container_full").toggleClass('content_container_less');
            $(".sidebar-hid").toggleClass('sidebar-show');
        });
        
    });

    function changesidebar(){

        var width = $(window).width();
        var div = $('#offcanvasExample');
        var cdiv  = $('#content_container')
        const h2b = $('#sidebar_button');

        if (width < 500){
            div.removeClass('sidebar-show').addClass('offcanvas offcanvas-start');
            cdiv.removeClass('content_container_full').addClass('content_container_norm');
            cdiv.removeClass('content_container_less').addClass('content_container_norm');

            h2b.attr('data-bs-toggle', 'offcanvas');
            h2b.attr('href', '#offcanvasExample');
            h2b.attr('role', 'button');
            h2b.attr('aria-controls', 'offcanvasExample');

            $('#sideclose').show();

        } else{
            div.removeClass('offcanvas offcanvas-start').addClass('sidebar-hid');
            cdiv.removeClass('content_container_norm').addClass('content_container_full');
            
            h2b.removeAttr('data-bs-toggle');
            h2b.removeAttr('href');
            h2b.removeAttr('role');
            h2b.removeAttr('aria-controls');

            $('#sideclose').hide();
        }

        
    }

    const savedTheme = localStorage.getItem("theme");

    // Apply the saved theme or use a default theme
    document.documentElement.setAttribute('data-theme', savedTheme || 'theme1');

    // Function to set the theme (same as before)
    function setTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem("theme", theme);
    }
</script>